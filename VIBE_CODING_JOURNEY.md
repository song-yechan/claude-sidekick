# 바이브코딩으로 iOS 앱 출시까지
## BookScribe 개발기: 99일간의 실제 여정

> 코딩 경험 없이 AI와 대화만으로 앱을 만들어 App Store에 출시한 이야기
>
> 실제 개발 과정에서 겪은 문제들, 삽질, 해결 과정을 가감 없이 담았습니다.

---

# 용어 사전
## 이 문서에서 자주 등장하는 기술 용어들

| 용어 | 쉬운 설명 |
|------|----------|
| **바이브코딩** | AI에게 "이런 거 만들어줘"라고 말해서 코드를 만드는 방식. 직접 코딩하지 않고 대화로 개발 |
| **API** | 프로그램끼리 대화하는 방법. "책 검색해줘"라고 요청하면 결과를 돌려주는 창구 |
| **OCR** | 사진 속 글자를 텍스트로 바꾸는 기술. 책 페이지 사진 → 복사 가능한 텍스트 |
| **Flutter** | 구글이 만든 앱 개발 도구. 한 번 만들면 iOS/Android 둘 다 동작 |
| **Supabase** | 서버 없이 데이터 저장, 로그인 기능을 제공하는 서비스. 무료로 시작 가능 |
| **Edge Function** | 서버에서 실행되는 작은 프로그램. 여기선 OCR API 호출용으로 사용 |
| **CI/CD** | 코드 바뀌면 자동으로 빌드/배포하는 시스템. 수동 작업 줄여줌 |
| **TestFlight** | 앱 출시 전에 테스터들에게 미리 배포하는 Apple 서비스 |
| **커밋** | 코드 변경사항을 저장하는 단위. "세이브 포인트"라고 생각하면 됨 |
| **Riverpod** | Flutter에서 데이터 상태를 관리하는 도구. 화면 간 데이터 공유용 |

---

# 1. 프로젝트 소개
## 왜 이 앱을 만들었나?

### 문제 상황
- 독서 중 마음에 드는 문장 발견
- 손으로 타이핑? → 귀찮음
- 하이라이트만? → 나중에 못 찾음
- 굿노트에 사진? → 텍스트 검색 안 됨

### 해결책
**"사진만 찍으면 자동으로 텍스트가 되면 좋겠다"**

---

# 2. BookScribe 핵심 기능
## 완성된 앱이 하는 일

| 기능 | 설명 |
|------|------|
| 책 검색/등록 | 알라딘에서 책 검색 → 내 서재에 추가 |
| 문장 수집 | 카메라 촬영 → AI가 텍스트 추출 → 저장 |
| 카테고리 관리 | 책을 원하는 카테고리로 분류 |
| 독서 활동 | 캘린더에 독서 기록 시각화 |
| 다크 모드 | 밤에도 눈 편하게 |

---

# 3. 사용한 AI 도구
## 두 가지 AI로 역할 분담

### Lovable (웹앱 프로토타입)
- **사용 기간:** 9/30 ~ 12/10 (약 2.5개월)
- **특징:** 채팅으로 React 웹앱 생성
- **장점:** 30분 만에 기본 UI 완성
- **한계:** 복잡한 기능, 네이티브 앱 변환 어려움

### Claude Code (Flutter 네이티브 앱)
- **사용 기간:** 12/18 ~ 1/7 (약 3주)
- **특징:** 터미널에서 직접 코드 수정, 빌드까지
- **장점:** 파일 읽기/쓰기, 명령어 실행 가능
- **용도:** 앱 전환, 버그 수정, 빌드, 배포

---

# 4. 전체 타임라인
## 99일간의 여정 한눈에 보기

```
9/30  🚀 프로젝트 시작 (Lovable)
       ↓
10/5  ✅ 웹앱 핵심 기능 완성
       ↓
      ... (1.5개월 공백) ...
       ↓
12/10 📱 Flutter 전환 결정
       ↓
12/18 🔄 Claude Code로 앱 전환 시작
       ↓
12/24 🎄 크리스마스 이브 버그 수정
      📤 첫 TestFlight 업로드
       ↓
12/31 😫 Xcode Cloud 4시간 싸움
       ↓
1/1   🐛 새해 첫날 버그 수정
       ↓
1/5   ⚠️ 계정 삭제 기능 급히 추가
       ↓
1/7   ✅ App Store 심사 제출!
```

---

# 5. Phase 1: Lovable 웹앱
## 첫 주에 일어난 일

### Day 1 (9/30): 첫 프롬프트
```
책 속 문장을 수집하는 웹앱을 만들어줘.
- 사용자가 책을 검색해서 등록
- 책 페이지 사진을 찍으면 OCR로 텍스트 추출
- 추출한 문장을 책별로 저장
```

**결과:** 30분 만에 기본 화면 완성!

### Day 2~5: 기능 추가
| 날짜 | 추가한 기능 |
|------|------------|
| 10/1 | Supabase 데이터베이스 연동 |
| 10/5 | 책 등록/삭제 |
| 10/5 | 카메라로 사진 촬영 |
| 10/5 | Google 로그인 |
| 10/5 | 독서 캘린더 |

---

# 6. Lovable에서 막혔던 것
## 웹앱의 한계를 느낀 순간들

### 문제 1: 이미지 크롭 불안정
```
12/10 | Add image crop flow
12/10 | Fix cropper reliability  ← 고쳤다고?
12/10 | Fix cropper buttons      ← 또?
12/10 | Fix crop flow stability  ← 또??
```
**10번 넘게 수정해도 계속 버그**

### 문제 2: 네이티브 기능 한계
- 카메라 깊은 제어 불가
- iOS HEIC 이미지 처리 어려움
- 오프라인 지원 불가

### 결론
**→ Flutter 네이티브 앱으로 전환 결정!**

---

# 7. Phase 2: Flutter 전환
## Claude Code와 함께한 앱 개발

### 전환 첫날 (12/18) 프롬프트
```
현재 React로 만든 책 문장 수집 웹앱이 있어.
이걸 Flutter 네이티브 앱으로 전환하고 싶어.
기존 Supabase 백엔드는 그대로 사용할거야.
```

### Claude Code가 한 일
1. Flutter 프로젝트 생성
2. 기존 웹앱 구조 분석
3. Dart 코드로 변환
4. Supabase SDK 연동

**→ 하루 만에 기본 앱 구조 완성!**

---

# 8. CLAUDE.md의 힘
## AI에게 프로젝트 컨텍스트 알려주기

프로젝트 폴더에 `CLAUDE.md` 파일 생성:

```markdown
# BookScribe 프로젝트 가이드

## 기술 스택
- Flutter / Dart
- Supabase (데이터베이스, 로그인)
- Riverpod (상태관리)

## 폴더 구조
- lib/screens: 화면
- lib/services: API 호출
- lib/providers: 상태 관리

## 규칙
- 한국어 주석 사용
```

### 효과
- 매번 설명 안 해도 됨
- "OCR 개선해줘"만 해도 맥락 이해
- 일관된 코드 스타일 유지

---

# 9. Phase 3: 버그와의 전쟁
## 크리스마스 이브에 일어난 일 (12/24)

### 버그 1: iOS 사진 OCR 실패
- **증상:** 갤러리 사진 선택하면 OCR 안 됨
- **원인:** iOS는 HEIC 형식, OCR은 JPEG만 지원
- **해결:** 이미지 포맷 자동 변환 추가

### 버그 2: 백그라운드 복귀 크래시
- **증상:** 앱 잠깐 나갔다 오면 튕김
- **원인:** 로그인 세션 만료
- **해결:** 앱 복귀 시 세션 자동 갱신

### 버그 3: 저장 다이얼로그 회색 화면
- **증상:** OCR 완료 후 화면이 회색으로 덮임
- **원인:** 로딩 표시가 안 사라짐
- **해결:** 상태 관리 로직 수정

---

# 10. 새해 첫날 버그 (1/1)
## 2026년이 되자 터진 버그

### 캘린더가 안 나온다!

```dart
// 문제의 코드 (하드코딩)
final currentYear = 2025;

// 수정 후
final currentYear = DateTime.now().year;
```

**교훈:** 날짜, 연도는 절대 하드코딩하지 말 것!

---

# 11. Xcode Cloud 4시간 싸움 (12/31)
## CI/CD 설정의 고통

### 계속되는 빌드 실패
```
Error: flutter: command not found
```

### 시도한 것들
| 시도 | 결과 |
|------|------|
| Flutter 설치 스크립트 추가 | ❌ 실패 |
| 스크립트 경로 수정 | ❌ 실패 |
| flutter precache --ios 추가 | ✅ 성공! |

### 핵심 해결책
```bash
# ci_post_clone.sh
flutter precache --ios  # ← 이게 핵심!
flutter pub get
```

---

# 12. Phase 4: App Store 심사
## 몰랐던 필수 요구사항

### 계정 삭제 기능 필수!

**Apple 가이드라인 5.1.1(v):**
> 계정 생성 기능이 있으면 반드시 계정 삭제도 제공해야 함

**심사 직전에 발견해서 급히 구현:**
1. 서버에 삭제 기능 추가 (Edge Function)
2. 앱에 삭제 버튼 추가
3. 경고 다이얼로그 추가
4. 실제 데이터 삭제 처리

---

# 13. 실제로 막혔던 순간들
## 문제 → 해결 과정

### 막힘 1: ML Kit 한글 인식률 낮음
- **문제:** 영어는 OK, 한글은 50% 이하
- **해결:** 신뢰도 체크 → 낮으면 Cloud API로 자동 전환

### 막힘 2: 화면 갱신 안 됨
- **문제:** 데이터 삭제해도 화면 그대로
- **해결:** 상태 변경 후 화면 갱신 코드 추가

### 막힘 3: 서버 함수 403 에러
- **문제:** 로컬 OK, 배포하면 에러
- **해결:** JWT 검증 옵션 끄고 배포

### 막힘 4: 빌드 버전 불일치
- **문제:** 내 컴퓨터 OK, CI에서 실패
- **해결:** CI에서 같은 버전 사용하도록 설정

---

# 14. 잘한 것
## 효과적이었던 선택들

### 1. Lovable로 빠른 검증
- 일주일 만에 프로토타입
- "이거 쓸만한가?" 코드 없이 확인

### 2. CLAUDE.md 작성
- 프로젝트 컨텍스트 문서화
- AI가 매번 같은 설명 없이 이해

### 3. 하이브리드 OCR 전략
```
무료 ML Kit → 실패 시 → 유료 Cloud API
```
- 비용 절감 + 품질 보장

### 4. 테스트 코드 39개 작성
- 리팩토링할 때 안심
- 버그 사전 발견

### 5. 작은 단위로 커밋
- 문제 생기면 롤백 가능
- 변경 이력 추적 쉬움

---

# 15. 못한 것
## 다음엔 이렇게 하지 말자

### 1. App Store 가이드라인 안 읽음
- 계정 삭제 기능 몰라서 급히 추가
- **교훈:** 심사 전에 가이드라인 필독!

### 2. 에러 처리 대충
```dart
// 나쁜 예
try { ... } catch (e) { print(e); }

// 좋은 예
try { ... } catch (e) {
  showSnackBar('오류가 발생했습니다');
}
```

### 3. 하드코딩
- 2026년 되니까 버그
- **교훈:** 날짜/버전은 동적으로!

### 4. 혼자 다 하려고 함
- 디자인, 개발, QA 다 혼자
- **교훈:** 디자인이라도 템플릿 쓰기

---

# 16. 바이브코딩, 정말 되는가?
## 결론: 된다. 단, 조건부로.

### 가능한 것
| 항목 | 가능 여부 |
|------|----------|
| MVP 수준 앱 | ✅ 충분히 가능 |
| App Store 출시 | ✅ 가능 |
| 복잡한 UI | ⚠️ 시간 오래 걸림 |
| 대규모 서비스 | ❌ 아직 어려움 |

### 필요한 것
1. **명확한 목표** - "이런 거"가 아니라 구체적으로
2. **기본 개념** - API, 데이터베이스 뭔지 정도
3. **인내심** - 에러는 정상, 포기하지 말기
4. **버전 관리** - 문제 생기면 롤백

---

# 17. 예상 비용
## 첫 해 기준 총 비용

| 항목 | 월 비용 | 연 비용 | 비고 |
|------|--------|--------|------|
| Lovable | $0~20 | $0~240 | 무료 플랜 가능 |
| Claude Pro | $20 | $240 | Claude Code 사용 |
| Apple Developer | - | $99 | 필수 |
| Supabase | $0 | $0 | 무료 플랜 충분 |
| Google Cloud | $0 | $0 | 무료 할당량 내 |
| **합계** | | **약 $140~340** | |

---

# 18. 개발 기간 가이드
## 앱 복잡도별 예상 기간

| 복잡도 | 예상 기간 | 예시 앱 |
|--------|----------|---------|
| 간단 | 2~4주 | 할일 앱, 메모 앱 |
| 중간 | 1~2개월 | BookScribe 수준 |
| 복잡 | 3개월+ | SNS, 마켓플레이스 |

---

# 부록 A: 주요 수치
## 99일간의 개발 통계

### 기본 통계
| 항목 | 값 |
|------|-----|
| 총 개발 기간 | 99일 |
| 총 커밋 수 | 142개 |
| Lovable 커밋 | 27개 |
| Claude Code 커밋 | 64개 |
| Dart 파일 수 | 43개 |
| 코드 라인 수 | 약 10,600줄 |
| 테스트 파일 | 39개 |
| Edge Functions | 4개 |

### 커밋 분류
| 유형 | 개수 |
|------|------|
| 새 기능 추가 | 42개 |
| 버그 수정 | 32개 |
| 리팩토링 | 13개 |
| 문서화 | 8개 |
| 테스트 | 12개 |
| 기타 (버전, 설정) | 35개 |

---

# 부록 B: AI 사용량
## Claude Code 작업 통계

### 토큰 사용량 (추정)
| 항목 | 추정값 | 설명 |
|------|--------|------|
| 총 세션 수 | 약 50회 | 12/18 ~ 1/7 기간 |
| 세션당 평균 토큰 | 약 50,000 | 입력 + 출력 |
| **총 토큰** | **약 250만** | Claude Pro로 충분 |

### Claude Code 작업 시간 (추정)
| 작업 유형 | 시간 | 비고 |
|----------|------|------|
| Flutter 전환 | 약 8시간 | 12/18 집중 작업 |
| 버그 수정 | 약 15시간 | 12/24, 1/1 등 |
| 기능 추가 | 약 12시간 | OCR, 계정삭제 등 |
| 빌드/배포 | 약 6시간 | Xcode Cloud 포함 |
| 테스트 작성 | 약 4시간 | 39개 테스트 |
| **총 AI 작업 시간** | **약 45시간** | |

### 비교: 직접 개발했다면?
| 방식 | 예상 시간 |
|------|----------|
| 바이브코딩 (AI) | 약 45시간 |
| 직접 개발 (숙련자) | 약 120시간 |
| 직접 개발 (초보자) | 약 400시간+ |

**→ AI로 약 3~9배 시간 절약**

---

# 부록 C: 기술 스택 상세
## 사용한 도구와 서비스

### 프론트엔드 (앱)
| 기술 | 용도 | 선택 이유 |
|------|------|----------|
| Flutter | 앱 프레임워크 | iOS/Android 동시 개발 |
| Dart | 프로그래밍 언어 | Flutter 기본 언어 |
| Riverpod | 상태 관리 | 간단하고 강력함 |
| go_router | 화면 이동 | Flutter 공식 권장 |

### 백엔드 (서버)
| 기술 | 용도 | 선택 이유 |
|------|------|----------|
| Supabase | 데이터베이스 | 무료, 쉬운 설정 |
| Supabase Auth | 로그인 | 이메일/OAuth 지원 |
| Edge Functions | 서버 로직 | OCR API 호출용 |
| PostgreSQL | DB 엔진 | Supabase 기본 |

### 외부 API
| API | 용도 | 비용 |
|-----|------|------|
| Google ML Kit | 온디바이스 OCR | 무료 |
| Cloud Vision | 클라우드 OCR | 무료 할당량 |
| 알라딘 API | 책 검색 | 무료 |

---

# 마치며
## 99일의 여정을 돌아보며

### 중간에 포기하고 싶었던 순간
- Xcode Cloud랑 4시간 싸울 때
- 크리스마스에 버그 잡을 때
- 새해 첫날 또 버그 터졌을 때

### 그래도 완주한 이유
**AI 도구들 덕분에 여기까지 올 수 있었습니다.**

### 핵심 교훈 3가지
1. **완벽한 코드를 짜려 하지 않기**
2. **에러가 나면 AI에게 보여주기**
3. **작게 시작해서 점점 키우기**

---

# 시작하세요!
## 만들고 싶은 앱이 있다면

**지금 바로 시작해보세요.**

1. Lovable.dev 가입
2. 만들고 싶은 앱 설명
3. 동작하는 프로토타입 확인
4. 필요하면 네이티브로 전환

**99일 후, 당신의 앱도 App Store에!**

---

**만든 사람:** @yechan
**작성일:** 2026-01-07
**앱 버전:** 1.0.0 (빌드 28)
**문서 버전:** 2.0 (슬라이드 최적화)
