# v1.0.3 릴리즈 노트

**릴리즈 날짜**: 2026-01-20
**빌드 번호**: 33

## 새로운 기능

### Reading Nudge System
사용자의 꾸준한 독서 습관 형성을 돕는 종합 알림 시스템

#### 스트릭 시스템
- 연속 독서 기록 자동 추적
- 홈 화면에 스트릭 카드 표시 (현재/최장 기록)
- 오늘 독서 완료 여부 시각적 표시

#### 스마트 넛지 알림
비활성 기간에 따라 알림 메시지 강도 자동 조절:
- **Normal** (0-1일): "오늘의 독서 시간이에요!"
- **Gentle** (2-3일): "어제 못 읽었죠? 오늘은 어때요?"
- **Moderate** (4-6일): "N일 연속 기록을 이어가세요!"
- **Strong** (7일+): "책이 기다리고 있어요. 다시 시작해볼까요?"

#### 알림 설정
- 설정 > 알림 설정에서 관리
- 알림 활성화/비활성화
- 알림 시간 선택 (기본: 오후 9시)
- 스마트 넛지 토글

#### 온보딩 통합
- 신규 사용자 온보딩에 알림 설정 단계 추가
- 건너뛰기 옵션 제공

## 기술적 변경사항

### 추가된 패키지
- `flutter_local_notifications: ^18.0.0`
- `timezone: ^0.10.0`

### 새로운 파일
| 파일 | 설명 |
|------|------|
| `models/streak.dart` | 스트릭 데이터 모델 |
| `models/nudge.dart` | 넛지 레벨 enum 및 로직 |
| `services/streak_service.dart` | 스트릭 CRUD 서비스 |
| `services/notification_service.dart` | 로컬 알림 스케줄링 |
| `providers/streak_provider.dart` | 스트릭 상태 관리 |
| `providers/notification_provider.dart` | 알림 설정 상태 관리 |
| `widgets/home/streak_card.dart` | 홈 스트릭 카드 UI |
| `screens/settings/notification_settings_screen.dart` | 알림 설정 화면 |

### DB 마이그레이션
`20260120000000_add_reading_nudge_system.sql`:
- `user_preferences` 테이블에 알림 관련 컬럼 추가
- `reading_streaks` 테이블 생성 (RLS 정책 포함)

## 테스트
- 전체 테스트 통과 (401개)
- settings_screen_test.dart 업데이트 (스크롤 로직 추가)

## 배포 체크리스트
- [x] DB 마이그레이션 적용 완료 (`npx supabase db push`)
- [x] Git push 완료
- [ ] iOS 빌드 및 TestFlight 배포
- [ ] Android 빌드 및 내부 테스트 배포
- [ ] 프로덕션 배포

## 다음 버전 고려사항
- 스트릭 달성 시 축하 애니메이션
- 주간/월간 독서 통계
- 알림 클릭 시 앱 딥링크 처리
